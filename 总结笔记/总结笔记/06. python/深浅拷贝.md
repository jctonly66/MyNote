### Python深拷贝、浅拷贝

Python中可以有2种拷贝方式：浅拷贝以及深拷贝。

#### 2.1 浅拷贝

浅拷贝只会复制最顶层的数据，嵌套的列表不会进行拷贝，仍然是引用。

浅拷贝有几种方式：

```
# 1. copy.copy()
list2 = copy.copy('list1')  # 赋值所有C指向的数据到一个新空间，但不会递归copy
# 2. 切片
list2 = list1[:] # 浅拷贝的另外一种方式
# 3. 字典的拷贝
dict2 = dict1.copy() 
```

浅拷贝对不可变类型和可变类型的copy不同：对于可变类型，会进行浅拷贝；对于不可变类型，不会拷贝，仅仅是指向。

#### 2.2 深拷贝

深拷贝是对于一个对象所有层次的拷贝（递归）。

```
list2 = list1.deepcopy()  # 深度拷贝
```

#### 2.3 TIPS

如果元组中的数据都是不可变的，则`copy`与`deepcopy`都不会拷贝，仅仅指向。只要有有一个可变的，则深度拷贝。

```python
# 可变类型
In [88]: a = [11,22,33]
In [89]: b = copy.copy(a)
In [90]: id(a)
Out[90]: 59275144
In [91]: id(b)
Out[91]: 59525600
In [92]: a.append(44)
In [93]: a
Out[93]: [11, 22, 33, 44]
In [94]: b
Out[94]: [11, 22, 33]

# 不可变类型
In [95]: a = (11,22,33)
In [96]: b = copy.copy(a)
In [97]: id(a)
Out[97]: 58890680
In [98]: id(b)
Out[98]: 58890680
```

### 拷贝存在的意义

拷贝比创建对象的过程要快。